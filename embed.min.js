// embed.min.js
(function () {
  const config = window.embeddedChatbotConfig || {};
  const chatbotId = config.chatbotId;
  const domain = config.domain;

  if (!chatbotId || !domain) {
    console.error("Chatbot configuration is missing");
    return;
  }

  const chatContainer = document.createElement("div");
  chatContainer.id = "chat-widget-container";
  document.body.appendChild(chatContainer);

  const widget = document.createElement("div");
  widget.id = "chat-widget";
  chatContainer.appendChild(widget);

  // Add styles to the widget container
  chatContainer.style.position = "fixed";
  chatContainer.style.bottom = "20px";
  chatContainer.style.right = "20px";
  chatContainer.style.zIndex = "9999";

  // Load the React component
  const iframe = document.createElement("iframe");
  iframe.src = `https://widget-carlos-projects-64d82bf3.vercel.app/widget?id=${chatbotId}`;
  iframe.style.width = "435px";
  iframe.style.height = "720px";
  iframe.style.border = "none";
  widget.appendChild(iframe);
})();
